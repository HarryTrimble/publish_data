{% extends "layout.html" %}

{% block page_title %}
  Publish government data
{% endblock %}

{% block proposition_header %}
  {% include "includes/propositional_navigation_service.html" %}
{% endblock %}

{% block header_class %}
  with-proposition
{% endblock %}

{% block content %}

<main id="content" role="main">

  {% include "includes/phase_banner_alpha.html" %}


  <div class="grid-row">

    {% include "includes/side-navigation.html" %}

    <div class="column-two-thirds">

      <form
          method="post"
          action="{% if query.change == 1 %}check{% else %}start_date{% endif %}"
          class="form">

        {{ back.show(5, 10) }}

        <h1 class="heading-large">
          Choose a country
        </h1>

        <fieldset>
          <legend class="visuallyhidden">
            Would you like to be notified?
          </legend>

          {% set regions=[['England', 'england'],
                          ['Wales', 'wales'],
                          ['Scotland', 'scotland'],
                          ['Northern Ireland', 'ni'],
                          ['Overseas', 'overseas']
                         ] %}


          <div class="form-group">
            {% for region in regions %}
              <label for="{{region[1]}}" class="block-label">
                <input
                  type="checkbox"
                  id="{{region[1]}}"
                  name="geo"
                  value="{{region[0]}}"
                  {% if (data.geo and data.geo.indexOf(region[0]) !== -1) %}
                    checked
                  {% endif %}
                />
                {{region[0]}}
              </label>
            {% endfor %}


            <label class="block-label" data-target="panel-other-country">
              <input
                  type="checkbox"
                  id="other"
                  name="geo"
                  value="Other"
                  {% if (data.geo and data.geo.indexOf("Other") !== -1) %}
                    checked
                  {% endif %}
              />
              Other
            </label>

            <div
              class="panel panel-border-narrow js-hidden"
              id="panel-other-country">
              <label class="form-label" for="other-country">
                Name of the country
              </label>
              <input
                  class="form-control"
                  type="text"
                  name="other-geo"
                  id="other-country"
                  value="{{ data.otherGeo }}"/>
            </div>

          </div>

        </fieldset>

        <div class="form-group">
          <input type="submit" class="button" value="Continue" />
        </div>

      </form>

    </div>
  </div>

</main>
{% endblock %}
